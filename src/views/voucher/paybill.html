<div class="urel" style="padding-bottom: 0;width:1280px;">    <div class="ov-y bgb pb15" style="height: 100%;" id="voucherContent">        <div class="mt10 plr20">            <form id="searchForm" class="clearfix">                <input id="searchPeriodId" type="hidden" name="searchPeriodId"/>                <input id="searchPeriodYear" type="hidden" name="searchPeriodYear"/>                <input id="searchPeriodNum" type="hidden" name="searchPeriodNum"/>                <input id="searchPeriodName" type="hidden" name="searchPeriodName"/>                <input id="searchPeriodCode" type="hidden" name="searchPeriodCode"/>                <div class="form-group ufl">                    <label class="uds">会计期间:</label>                    <div class="input-group date uds">                        <select class="select w140" name="state" id="coaPeriod"></select>                    </div>                </div>                <div class="w160 f14 lh30 ufl" id="voucherNumber">本期凭证数：*****条</div>                <div class="btn btn-warning btn-xs1 ml10 ufl uhide" id="backPeriodClose" onclick="backPeriodClose()">反结账</div>                <div class="btn btn-primary btn-xs1 ml10 ufl uhide plr20" id="periodClose" onclick="PeriodClose()">结账</div>                <div class="btn btn-default btn-xs1 ml10 ufl plr20" id="transferLog" onclick="transferLog()">日志</div>            </form>            <div class="pl15 ptb10 billList">                <div class="uds payItem urel" id="jzcbBox">                    <h4>结转成本</h4>                    <button class="btn btn-info btn-xs1" id="jzcbBtn" disabled="disabled">生成凭证</button>                    <p id="jzcbHistory"></p>                </div>                <div class="uds payItem urel" id="jzdtfyBox">                    <h4>结转待摊费用</h4>                    <button class="btn btn-info btn-xs1" id="jzdtfyBtn">生成凭证</button>                    <p id="jzdtfyHistory"></p>                </div>                <div class="uds payItem urel" id="jzwjzzsBox">                    <h4>结转未缴增值税</h4>                    <button class="btn btn-info btn-xs1" id="jzwjzzsBtn">生成凭证</button>                    <p id="jzwjzzsHistory"></p>                </div>                <div class="uds payItem urel" id="jtwjsBox">                    <h4>计提附加税</h4>                    <button class="btn btn-info btn-xs1" id="jtfjsBtn">生成凭证</button>                    <p id="jtfjsHistory"></p>                </div>                <div class="uds payItem urel" id="jtzjBox" style="display:none">                    <h4>计提折旧</h4>                    <button class="btn btn-info btn-xs1" id="jtzjBtn">生成凭证</button>                    <p id="jtzjHistory"></p>                </div>                <div class="uds payItem urel" id="jtgzBox">                    <h4>计提工资</h4>                    <button class="btn btn-info btn-xs1" id="jtgzBtn">生成凭证</button>                    <p id="jtgzHistory"></p>                </div>                <div class="uds payItem urel" style="display: none" id="jtsdsBox">                    <h4>计提所得税</h4>                    <button class="btn btn-info btn-xs1" id="jtsdsBtn">生成凭证</button>                    <p id="jtsdsHistory"></p>                </div>                <div class="uds payItem urel" id="jzsrBox">                    <h4>结转收入</h4>                    <button class="btn btn-info btn-xs1" id="jzsrBtn">生成凭证</button>                    <p id="jzsrHistory"></p>                </div>                <div class="uds payItem urel" id="jzfyBox">                    <h4>结转费用</h4>                    <button class="btn btn-info btn-xs1" id="jzfyBtn">生成凭证</button>                    <p id="jzfyHistory"></p>                </div>                <div class="uds payItem urel" id="jzsyBox">                    <h4>结转损益(合并)</h4>                    <button class="btn btn-info btn-xs1" id="jzsyBtn">生成凭证</button>                    <p id="jzsyHistory"></p>                </div>                <div class="uds payItem urel" style="display:none" id="jzwfplrBox">                    <h4>结转未分配利润</h4>                    <button class="btn btn-info btn-xs1" id="jzwfplrBtn">生成凭证</button>                    <p id="jzwfplrHistory"></p>                </div>            </div>            <div class="bac mt10 ov-y" id="voucher_zone" style="min-height: 470px;">                <form id="voucherForm" class="urel uhide pb10" style="width: 1230px; margin: 10px auto 30px">                    <div class="voucherTab clearfix uhide">                        <li class="active" onclick="partVoucherTab(this,1)">收入结转</li>                        <li onclick="partVoucherTab(this,2)">费用结转</li>                    </div>                    <div class="p10 w_100 tx-c f20">记账凭证<span class="ml20 f12" id="Period">2019年第*期</span></div>                    <div class="clearfix">                        <div class="form-group w200 ufl">                            <label class="lh30 uds" style="vertical-align:top">凭证字号:</label>                            <div class="input-group date uds urel">                                <select class="form-control w40 h28 uds p0" id="catogeryName"></select>                                <div class="bac w50 h28 uds ml03 tx-c" id="catogeryNumber"></div><!--                              --><span class="btn-wrap uds">                                    <a class="btn-up" onclick="add01('catogeryNumber')"></a> <a class="btn-down" onclick="down01('catogeryNumber')"></a>                                </span>                            </div>                        </div>                        <div class="form-group w240 ufl">                            <label class="lh30 uds" style="vertical-align:top">日期:</label>                            <div class="input-group date uds urel">                                <input type="text" autocomplete="off" class="form-control w120 h28 dataTime bgb" readonly="readonly"/>                                <div class="date_icon" onclick="showDate(this)"></div>                            </div>                        </div>                        <div class="form-group w140 ufr">                            <label class="lh24 uds">附单据:</label>                            <div class="input-group date uds">                                <input id="voucherAttachmentNum" class="w40 h28 uds bac br05 tx-c" value="0" onInput="this.value=this.value.replace(/[^0-9-]+/,'');" />                                <span class="lh24 uds">张</span>                            </div>                        </div>                    </div>                    <input id="jzCode" type="hidden" />                    <table id="voucher" class="voucher table table-condensed" style="border-left: none;">                        <thead>                            <tr>                                <th width="18" class="tablectrl thstyle"></th>                                <th class="thstyle">摘要</th>                                <th class="thstyle">会计科目</th>                                <th width="109" class="thstyle">数量</th>                                <th width="109" class="thstyle">币别</th>                                <th width="220" class="p0"><b class="money_tit">借方金额</b>                                    <div class="money_unit">                                        <i>亿</i><i>千</i><i>百</i><i>十</i><i>万</i><i>千</i><i>百</i><i>十</i><i>元</i><i>角</i><i>分</i>                                    </div>                                </th>                                <th width="220" class="p0"><b class="money_tit">贷方金额</b>                                    <div class="money_unit">                                        <i>亿</i><i>千</i><i>百</i><i>十</i><i>万</i><i>千</i><i>百</i><i>十</i><i>元</i><i>角</i><i>分</i>                                    </div>                                </th>                            </tr>                        </thead>                        <tbody id="voucher_tbody"></tbody>                        <tfoot>                            <tr class="foot h42">                                <td class="p0"></td>                                <td colspan="4" class="thstyle tx-l" id="totalNumber">合计：</td>                                <td class="col_debite p0 urel ovh">                                    <div class="money_bg lh42" id="totalMoney1"></div>                                </td>                                <td class="col_credit p0 urel ovh">                                    <div class="money_bg lh42" id="totalMoney2"></div>                                </td>                            </tr>                        </tfoot>                    </table>                    <div class="btn btn-primary ufr" onclick="saveVoucherFun(1)" id="saveBtn">保存凭证</div>                </form>                <p class="tx-c mb0 w_100 h_100" style="line-height: 470px; background: #f5f5f5">录凭证区</p>            </div>        </div>    </div></div><!--常用摘要 --><div class="modal uhide" id="myModal1" aria-hidden="true" data-backdrop="static">    <div class="modal-dialog">        <div class="modal-content">            <div class="modal-header">                <button class="close" data-dismiss="modal" aria-hidden="true">关闭</button>                <h4 class="modal-title" id="summaryModalLabel">常用摘要</h4>            </div>            <div class="modal-body plr20">                <form class="clearfix" id="summaryForm">                    <input id="summary_id" name="id" type="text" autocomplete="off" hidden="true">                    <div class="ufl">                        <span class="uds">编码:</span>                        <input name="mnemonicCode" type="text" autocomplete="off" placeholder="请输入摘要编码" class="form-control uds w200 h28" />                    </div>                    <div class="ufl ml15">                        <span class="uds">名称:</span>                        <input name="summary" type="text" autocomplete="off" placeholder="请输入摘要名称" class="form-control uds w200 h28" />                    </div>                    <div class="btn btn-default btn-sm ml10" onclick="addSummary()">保存</div>                </form>                <table id="summaryTable" class="table table-bordered table-hover mt10"></table>            </div>        </div>    </div></div><!-- 科目树 --><div class="modal uhide" id="myModal2" aria-hidden="true" data-backdrop="static">    <div class="modal-dialog w400">        <div class="modal-content">            <div class="modal-header">                <button class="close" onclick="closeCoaPop()">关闭</button>                <h4 class="modal-title" id="summaryModalLabel">请选择科目</h4>            </div>            <div class="coaAdd bbc uhide">                <input type="text" autocomplete="off" name="coaCode" placeholder="科目编码" /><input type="text" autocomplete="off" name="coaName" placeholder="科目名称" /><span class="btn btn-xs btn-default" onclick="addChildCoa()">新增子科目</span>            </div>            <div class="modal-body clearfix p10">                <div class="w400 plr15 ufl">                    <div id="glCoaTree" class="ztree h400 ov-y">正在初始化化科目树...</div>                </div>            </div>            <div class="modal-footer">                <button class="btn btn-primary" onclick="saveThisCoa()">确定</button>                <button class="btn btn-default" onclick="closeCoaPop()">取消</button>            </div>        </div>    </div></div><div class="modal uhide" id="configBox" aria-hidden="true" data-backdrop="static">    <div class="modal-dialog w400">        <div class="modal-content">            <div class="modal-header">                <button class="close" data-dismiss="modal" aria-hidden="true">关闭</button>                <h4 class="modal-title" id="configTit">设置结转百分比</h4>            </div>            <div class="modal-body ptb20">                <div class="form-group" id="monthBox">                    <label class="uds tx-r ml30 h28" style="width:120px">计提方式：</label>                    <input type="radio" name="month" class="uds" value="1" checked />按月                    <input type="radio" name="month" class="uds ml10" value="3" />按季                </div>                <div class="form-group mt10 clearfix">                    <label class="ufl tx-r ml30 h28" style="width:120px" id="percentTxt">结转百分比：</label>                    <input type="text" id="percent" class="ufl bac w60 h28 br05 tx-r pr03" onInput="this.value=this.value.replace(/[^\d.]/g,'');" autocomplete="off" maxlength="3" value="100" />                    <label class="ufl w40 tx-l ml05 h28">%</label>                </div>                <div class="form-group mt10 clearfix uhide" id="percent1Box">                    <label class="ufl tx-r ml30 h28" style="width:120px">教育费附加：</label>                    <input type="text" id="percent1" class="ufl bac w60 h28 br05 tx-r pr03" onInput="this.value=this.value.replace(/[^\d.]/g,'');" autocomplete="off" maxlength="3" value="" />                    <label class="ufl w40 tx-l ml05 h28">%</label>                </div>                <div class="form-group mt10 clearfix uhide" id="percent2Box">                    <label class="ufl tx-r ml30 h28" style="width:120px">地方教育费附加：</label>                    <input type="text" id="percent2" class="ufl bac w60 h28 br05 tx-r pr03" onInput="this.value=this.value.replace(/[^\d.]/g,'');" autocomplete="off" maxlength="3" value="" />                    <label class="ufl w40 tx-l ml05 h28">%</label>                </div>                <p class="f12" style="margin-left:40px">注：请输入0-100的数</p>            </div>            <div class="modal-footer">                <div class="btn btn-primary" onclick="saveConfig()">确定</div>                <div class="btn btn-default" onclick="cancelConfig()">取消</div>            </div>        </div>    </div></div><script src="static/js/voucherEdit.js"></script><script src="static/js/voucherInit.js"></script><script type="text/javascript">var billObj=[{code:"jzcb",percent:1},{code:"jzdtfy",percent:0},{code:"jzwjzzs",percent:0},{code:"jtfjs",percent:1},{code:"jtzj",percent:0},{code:"jtgz",percent:0},{code:"jtsds",percent:1},{code:"jzsr",percent: 0},{code:"jzfy",percent: 0},{code:"jzsy",percent: 0},{code:"jzwfplr",percent: 0}];var curBillIndex = 0;sessionStorage.voucherFlag = 6;getAvailablePeriod();initCatogeryType();initCourseTree();initVoucherStartStatus();getCoaList(initCoaSelect);initSummaryTables();initAuxiliaryType();initPercent();getAuxiliaryType();$('#coaPeriod').change(function() {    getCurVoucherStatus();    $('#voucherForm').hide().siblings().show();})$("#percent,#percent1,#percent2").keyup(function(){    var me  = $(this),int = parseInt(me.val());    if (int < 0) {        me.val(0);    }     if (int > 100) {        me.val(100);    }}).focus(function(){    $(this).get(0).select();});function initPercent(){    var percentHtml="";    for(var i=1;i<=100;i++){        percentHtml+='<option value="'+i+'">'+i+'</option>'    }    $('#percent').html(percentHtml);}function getAvailablePeriod() {    $.ajax({        url: ip_url+"gl/period/getSelectList",        dataType: "json",        type: "post",        async: true,        contentType: "application/json; charset=utf-8",        success: function(res) {            coursePeriod = res.data;            initCoaPeriod('coaPeriod', res.data);            initVoucherTime1(getLastMonthDay(res.data[0].seasonCode.split('-')[0], res.data[0].seasonCode.split('-')[1]));            getCurVoucherStatus();        },        error : function(e) {            logout_login("请重新登录");        }    });}// -------获取当前凭证状态------function getCurVoucherStatus() {    $('#jzcbBox').hide();    var curPeriod = $('#coaPeriod').val();    curbillPeriod = curPeriod;    var month = curPeriod.split('-')[1];    curMonth = curPeriod.split('-')[1];    if (month == "03" || month == "06" || month == "09" || month == "12") {        $('#jtsdsBox').show();    } else {        $('#jtsdsBox').hide();    }    if(month == "12"){        $('#jzwfplrBox').show();    } else {        $('#jzwfplrBox').hide();    }    initBillStatus(curPeriod);}// -----生成凭证----function inputVoucher(obj,index) {    sessionStorage.voucherFlag = 6;    $(obj).parent().addClass('bac2').siblings().removeClass('bac2');    $(obj).attr('disabled','disabled').parent().siblings().find('button').attr('disabled',false);    curBillIndex = index;    if(index == 3){        $('#configTit').html('设置附加税率');        $('#monthBox').show();        $('#percentTxt').html('城市建设维护税：');        $('input[name=month][value=1]').attr('checked','checked');        $('input[name=month][value=3]').attr('checked',false);        $('#percent1Box').show().next().show();        $('#percent').val('7');        $('#percent1').val('3');        $('#percent2').val('2');    }else if(index==0){        $('#configTit').html('设置结转百分比');        $('#percent').val('100');$('#monthBox').hide();        $('#percentTxt').html('结转百分比：');        $('input[name=month][value=1]').attr('checked','checked');        $('input[name=month][value=3]').attr('checked',false);        $('#percent1Box').hide().next().hide();        $('#percent1').val('');$('#percent2').val('');    }else{        $('#configTit').html('设置企业所得税率');        $('#percent').val('25');$('#monthBox').hide();        $('#percentTxt').html('企业所得税率：');        $('input[name=month][value=1]').attr('checked','checked');        $('input[name=month][value=3]').attr('checked',false);        $('#percent1Box').hide().next().hide();        $('#percent1').val('');$('#percent2').val('');    }    	    if(billObj[index].percent==1){        $('#configBox').modal('show');$('#percent').get(0).select();    }else{        var periodCode = $('#coaPeriod').val();        initBillData(billObj[index].code,'1',periodCode,'100','','');        $("#jzCode").val(billObj[index].code);        $('.voucherTab').addClass('uhide');        $('#voucherForm').show().siblings().hide();    }    $('#saveBtn').show();}// 查看已生成的凭证function initBillVoucher(obj,periodCode){    sessionStorage.voucherFlag = 8;    $(obj).parent().addClass('bac2').siblings().removeClass('bac2');    $(obj).attr('disabled','disabled').parent().siblings().find('button').attr('disabled',false);    curBillIndex = $(obj).parent().index();    $("#jzCode").val(billObj[curBillIndex].code);    $.ajax({        url: ip_url+"gl/voucher/getIdByPeriodJzCode",        type: "post",        data:JSON.stringify({            periodCode:periodCode,            jzCode:billObj[curBillIndex].code        }),        dataType: "json",        contentType: "application/json; charset=utf-8",        async: true,        success: function(res) {            if (res.success == true) {                toTheVoucher(res.data);            } else {                layer.alert(res.msg,{icon:2});            }        },        error: function(e) {            logout_login("请重新登录");        }    });    $('.voucherTab').addClass('uhide');    $('#voucherForm').show().siblings().hide();    $('#saveBtn').hide();}function toTheVoucher(id){    $.ajax({        url: ip_url+"gl/voucher/getById",        type : "post",        dataType : 'json',        data : JSON.stringify({id:id}),        contentType : "application/json; charset=utf-8",        success : function(data) {            getInitDataTable(data.data);        },        error : function(e) {            logout_login("请重新登录");        }    });}function cancelConfig(){    var periodCode = $('#coaPeriod').val();    initBillData(billObj[curBillIndex].code, periodCode, '100');    $("#jzCode").val(billObj[curBillIndex].code);    $('.voucherTab').addClass('uhide');    $('#voucherForm').show().siblings().hide();    $('#configBox').modal('hide');}function saveConfig(){    var periodCode = $('#coaPeriod').val();    var month = $('input[name=month]:checked').val()    var percent = $('#percent').val();    var percent1 = $('#percent1').val();    var percent2 = $('#percent2').val();    initBillData(billObj[curBillIndex].code,month,periodCode,percent,percent1,percent2);    $("#jzCode").val(billObj[curBillIndex].code);    $('.voucherTab').addClass('uhide');    $('#voucherForm').show().siblings().hide();    $('#configBox').modal('hide');}function editTemplate(templetId, jzCode, periodCode, month, percent, percent1, percent2) {    var requestData={        id:templetId,        jzCode:jzCode,        periodCode:periodCode,        month:month,        percent:percent,        percent1:percent1,        percent2:percent2    };    $.ajax({        url: ip_url+"gl/templet/getDataById",        dataType: "json",        data:JSON.stringify(requestData),        type: "post",        contentType: "application/json; charset=utf-8",        success: function(res) {            if (res.success) {                getInitDataTable(res.data);            } else {                layer.alert(res.msg, {icon: 5});            }        },        error : function(e) {            logout_login("请重新登录");        }    });}/*** 获取凭证类型list数据 ***/function initBillData(code,month,periodCode, percent, percent1, percent2) {    $.ajax({        url: ip_url+"gl/templetHeader/getJZList/" + code,        dataType: "json",        type: "post",        contentType: "application/json; charset=utf-8",        async: true,        success: function(res) {            if (res.success == "true") {                editTemplate(res.list[0].id, code, periodCode,month,percent, percent1, percent2);            } else {                layer.alert("获取该凭证失败！");            }        },        error: function(e) {            logout_login("请重新登录");        }    });}/****获取当前凭证状态****/function initBillStatus(str) {    $(".payItem").removeClass('bac2').find('p').hide();    $.ajax({        url: ip_url+"gl/periodClose/getPeriodState",        type: "post",        data: JSON.stringify({            periodYear:str.split('-')[0],            periodNum:str.split('-')[1],            periodCode: str        }),        async: false,        dataType: "json",        contentType: "application/json; charset=utf-8",        success: function(res) {            initVoucherStartStatus();            $("#searchPeriodId").val(res.glPeriod.id);            $("#searchPeriodYear").val(res.glPeriod.periodYear);            $("#searchPeriodNum").val(res.glPeriod.periodNum);            $("#searchPeriodName").val(res.glPeriod.periodName);            $("#searchPeriodCode").val(res.glPeriod.periodCode);            $('#voucherNumber').html("本期凭证数：" + res.jeHeaderCount + "条");            if (res.glPeriod.adjustmentPeriodFlag == 1) {                $('#backPeriodClose').hide();                $('#periodClose').show();                $('.payItem').find('button').removeClass("btn-default").addClass("btn-info").removeAttr('disabled');            } else {                $('#backPeriodClose').show();                $('#periodClose').hide();                $('.payItem').find('button').removeClass("btn-info").addClass("btn-default").attr('disabled',"disabled");            }            if (res.count > 0) {                for (var i = 0; i < res.voucher.length; i++) {                    $("#" + res.voucher[i].jzCode + "Btn").removeClass("btn-info").addClass("btn-warning").html('查看凭证').attr('onclick','initBillVoucher(this,\''+res.voucher[i].periodCode+'\')');                    $("#" + res.voucher[i].jzCode + "History").show().html(res.voucher[i].jeCatogery + "-" + formatThis(res.voucher[i].jeSeq));                }            }        },        error : function(e) {            logout_login("请重新登录");        }    });}function initVoucherStartStatus() {    $('.payItem').each(function() {        $(this).find('button').html('生成凭证').addClass("btn-info").removeClass("btn-warning").attr("disabled", false);        var curIndex = $(this).index();        $(this).find('button').attr('onclick', 'inputVoucher(this,' + curIndex + ')');    })}// 结转function PeriodClose() {    var backBillObj = {        periodId: $("#searchPeriodId").val(),        periodYear: $("#searchPeriodYear").val(),        periodNum: $("#searchPeriodNum").val(),        periodName: $("#searchPeriodName").val(),        periodCode: $("#searchPeriodCode").val()    };    loading();    $.ajax({        url: ip_url+"gl/periodClose/periodClose",        dataType: "json",        type: "post",        data: JSON.stringify(backBillObj),        contentType: "application/json; charset=utf-8",        success: function(res) {            closeLoading();            if (res.errorCode == "0") {                layer.alert(backBillObj.periodYear + "年第" + backBillObj.periodNum + "期结账完成!");                $('#periodClose').hide().prev().show();            } else {                if (res.errorCode == "-100") {                    layer.alert(res.msg,{icon:5});                } else if (res.errorCode == "-102") {                    layer.alert(res.msg,{icon:5});                } else if(res.errorCode == "-101"){                    layer.alert(res.msg,{icon:5});                } else if(res.errorCode == "-103"){                    layer.alert(res.msg,{icon:5});                } else if(res.errorCode == "-8"){                    layer.alert(res.msg,{icon:5});                }            }        },        error : function(e) {            logout_login("请重新登录");        }    });}// 反结转function backPeriodClose() {    var backBillObj = {        periodId: $("#searchPeriodId").val(),        periodYear: $("#searchPeriodYear").val(),        periodNum: $("#searchPeriodNum").val(),        periodName: $("#searchPeriodName").val(),        periodCode: $("#searchPeriodCode").val()    };    $.ajax({        url: ip_url+"gl/periodClose/backPeriodClose",        dataType: "json",        type: "post",        data: JSON.stringify(backBillObj),        contentType: "application/json; charset=utf-8",        success: function(res) {            if (res.success) {                layer.msg(backBillObj.periodCode + "及其之后期间反结转完成!", {icon: 1});                initBillStatus(backBillObj.periodCode);            } else {                if (res.errorCode == "101") {                    layer.msg("期间" + backBillObj.periodCode + "没有找到!", {icon: 1});                }                if (res.errorCode == "102") {                    layer.msg("无法反结转，期间" + backBillObj.periodCode + "没有结转!", {icon: 5});                }            }        },        error: function(e) {            logout_login("请重新登录");        }    });}function partVoucherTab(obj, type) {    $(obj).addClass('active').siblings().removeClass('active');    partVoucher(type);}function transferLog(){    var curPeriod = $('#coaPeriod').val();    var tableHtml = '<table class="table table-hover table-bordered mb0"><tr><th class="tx-c">期间</th><th class="tx-c">操作</th><th class="tx-c">结果</th><th class="tx-c">执行时间</th></tr>';    $.ajax({        url : ip_url+'sys/transLog/transLogList',        type : "POST",        dataType : 'json',         contentType : "application/json; charset=utf-8",        data : curPeriod,        success : function(res){        	if(res.data!=null){        		var data=res.data;	            for(var i=0;i<data.length;i++){	                tableHtml +='<tr><td class="tx-c">'+data[i].periodCode+'</td><td class="tx-c">'+transCode(data[i].jzCode)+'</td><td class="tx-c">'+data[i].msg+'</td><td class="tx-c">'+datetimeFormat19(data[i].updateDate)+'</td></tr>'	            }	            tableHtml +='</table>';	            if(data.length==0){	            	tableHtml='<div class="tx-c lh60 h60">暂无本期结账记录!</div>'	            }	            myLayer = layer.open({	              type: 1,	              title: false,	              closeBtn: 1,	              area: '800px',	              skin: 'layui-layer-nobg',	              shadeClose: true,	              content: '<div class="plr15 ptb15 bgb ov-y" style="max-height:400px">'+tableHtml+'</div>'	            });            }else{                layer.msg("暂无本期结账记录!",{icon:1});            }        },        error: function(e) {        }    }); }function transCode(jzCode){	if(jzCode==null)		return "";	if(jzCode=="jzcb")		return "结转成本";	if(jzCode=="jzdtfy")		return "结转待摊费用";	if(jzCode=="jzwzjjs")		return "结转未缴增值税";	if(jzCode=="jtfjs")		return "计提附加税";	if(jzCode=="jtzj")		return "计提折旧";	if(jzCode=="jtgz")		return "计提工资";	if(jzCode=="jtsds")		return "计提所得税";	if(jzCode=="jzsr")		return "结转收入";	if(jzCode=="jzfy")		return "结转费用";	if(jzCode=="jzsy")		return "结转损益(合并)";	if(jzCode=="jzwfplr")		return "结转未分配利润";	if(jzCode=="close")		return "结账";	if(jzCode=="unclose")		return "反结账";	return "";	}</script>